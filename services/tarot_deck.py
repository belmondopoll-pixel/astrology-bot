import random
import logging
from typing import List, Dict, Tuple

logger = logging.getLogger(__name__)

class TarotDeck:
    def __init__(self):
        self.major_arcana = [
            # –°—Ç–∞—Ä—à–∏–µ –ê—Ä–∫–∞–Ω—ã (22 –∫–∞—Ä—Ç—ã)
            {"name": "–®—É—Ç", "number": 0, "upright": "–ù–∞—á–∞–ª–æ, –Ω–µ–≤–∏–Ω–Ω–æ—Å—Ç—å, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å", "reversed": "–ë–µ–∑—Ä–∞—Å—Å—É–¥—Å—Ç–≤–æ, —Ä–∏—Å–∫, –Ω–µ–∑—Ä–µ–ª–æ—Å—Ç—å"},
            {"name": "–ú–∞–≥", "number": 1, "upright": "–í–æ–ª—è, –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è", "reversed": "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è, —Å–ª–∞–±–∞—è –≤–æ–ª—è, –æ–±–º–∞–Ω"},
            {"name": "–í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞", "number": 2, "upright": "–ò–Ω—Ç—É–∏—Ü–∏—è, —Ç–∞–π–Ω—ã, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ", "reversed": "–°–∫—Ä—ã—Ç—ã–µ –º–æ—Ç–∏–≤—ã, –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–∞—è –∏–Ω—Ç—É–∏—Ü–∏—è"},
            {"name": "–ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞", "number": 3, "upright": "–ü–ª–æ–¥–æ—Ä–æ–¥–∏–µ, –∏–∑–æ–±–∏–ª–∏–µ, –ø—Ä–∏—Ä–æ–¥–∞", "reversed": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —Ä–∞—Å—Ç–æ—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –∏–Ω–µ—Ä—Ç–Ω–æ—Å—Ç—å"},
            {"name": "–ò–º–ø–µ—Ä–∞—Ç–æ—Ä", "number": 4, "upright": "–í–ª–∞—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å", "reversed": "–¢–∏—Ä–∞–Ω–∏—è, –∂–µ—Å—Ç–∫–æ—Å—Ç—å, –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"},
            {"name": "–ò–µ—Ä–æ—Ñ–∞–Ω—Ç", "number": 5, "upright": "–¢—Ä–∞–¥–∏—Ü–∏—è, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å, –æ–±—É—á–µ–Ω–∏–µ", "reversed": "–î–æ–≥–º–∞—Ç–∏–∑–º, –Ω–µ—Ç–µ—Ä–ø–∏–º–æ—Å—Ç—å, –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ"},
            {"name": "–í–ª—é–±–ª–µ–Ω–Ω—ã–µ", "number": 6, "upright": "–õ—é–±–æ–≤—å, –≥–∞—Ä–º–æ–Ω–∏—è, –≤—ã–±–æ—Ä", "reversed": "–î–∏—Å–≥–∞—Ä–º–æ–Ω–∏—è, –Ω–µ–≤–µ—Ä–Ω–æ—Å—Ç—å, –Ω–µ—Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"},
            {"name": "–ö–æ–ª–µ—Å–Ω–∏—Ü–∞", "number": 7, "upright": "–ü–æ–±–µ–¥–∞, –∫–æ–Ω—Ç—Ä–æ–ª—å, –ø—Ä–æ–≥—Ä–µ—Å—Å", "reversed": "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∞–≥—Ä–µ—Å—Å–∏—è, –∑–∞—Å—Ç–æ–π"},
            {"name": "–°–∏–ª–∞", "number": 8, "upright": "–°–∏–ª–∞ –≤–æ–ª–∏, –º—É–∂–µ—Å—Ç–≤–æ, —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ", "reversed": "–°–ª–∞–±–æ—Å—Ç—å, –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –∂–µ—Å—Ç–æ–∫–æ—Å—Ç—å"},
            {"name": "–û—Ç—à–µ–ª—å–Ω–∏–∫", "number": 9, "upright": "–°–∞–º–æ–∞–Ω–∞–ª–∏–∑, —É–µ–¥–∏–Ω–µ–Ω–∏–µ, –º—É–¥—Ä–æ—Å—Ç—å", "reversed": "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ, –∏–∑–æ–ª—è—Ü–∏—è, –æ—Ç–∫–∞–∑ –æ—Ç –ø–æ–º–æ—â–∏"},
            {"name": "–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã", "number": 10, "upright": "–°—É–¥—å–±–∞, –ø–æ–≤–æ—Ä–æ—Ç, —Ü–∏–∫–ª—ã", "reversed": "–ù–µ—É–¥–∞—á–∞, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–∞–º, –∑–∞—Å—Ç–æ–π"},
            {"name": "–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å", "number": 11, "upright": "–ü—Ä–∞–≤–æ—Å—É–¥–∏–µ, –∫–∞—Ä–º–∞, —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ", "reversed": "–ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –±–µ–∑–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥–≤–∑—è—Ç–æ—Å—Ç—å"},
            {"name": "–ü–æ–≤–µ—à–µ–Ω–Ω—ã–π", "number": 12, "upright": "–ñ–µ—Ä—Ç–≤–∞, —Å–¥–∞—á–∞, –Ω–æ–≤–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞", "reversed": "–ú—É—á–µ–Ω–∏—á–µ—Å—Ç–≤–æ, –∑–∞—Å—Ç–æ–π, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ"},
            {"name": "–°–º–µ—Ä—Ç—å", "number": 13, "upright": "–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω–µ—Ü, –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ", "reversed": "–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–∞–º, —Å—Ç—Ä–∞—Ö, –∑–∞—Å—Ç–æ–π"},
            {"name": "–£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "number": 14, "upright": "–ë–∞–ª–∞–Ω—Å, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –≥–∞—Ä–º–æ–Ω–∏—è", "reversed": "–î–∏—Å–±–∞–ª–∞–Ω—Å, –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ, –∫—Ä–∞–π–Ω–æ—Å—Ç–∏"},
            {"name": "–î—å—è–≤–æ–ª", "number": 15, "upright": "–ò—Å–∫—É—à–µ–Ω–∏–µ, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–º", "reversed": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ, –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ, —Å–∞–º–æ–∫–æ–Ω—Ç—Ä–æ–ª—å"},
            {"name": "–ë–∞—à–Ω—è", "number": 16, "upright": "–í–Ω–µ–∑–∞–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ, —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ", "reversed": "–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –æ—Ç—Å—Ä–æ—á–∫–∞, –∏–∑–±–µ–≥–∞–Ω–∏–µ"},
            {"name": "–ó–≤–µ–∑–¥–∞", "number": 17, "upright": "–ù–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç—å", "reversed": "–û—Ç—á–∞—è–Ω–∏–µ, –ø–µ—Å—Å–∏–º–∏–∑–º, –ø–æ—Ç–µ—Ä—è –≤–µ—Ä—ã"},
            {"name": "–õ—É–Ω–∞", "number": 18, "upright": "–ò–ª–ª—é–∑–∏—è, —Å—Ç—Ä–∞—Ö, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ", "reversed": "–û—Å–æ–∑–Ω–∞–Ω–∏–µ, –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö–∞, —è—Å–Ω–æ—Å—Ç—å"},
            {"name": "–°–æ–ª–Ω—Ü–µ", "number": 19, "upright": "–†–∞–¥–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏–ª–∞", "reversed": "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏, –∑–∞–¥–µ—Ä–∂–∫–∏, —ç–≥–æ"},
            {"name": "–°—É–¥", "number": 20, "upright": "–í–æ–∑—Ä–æ–∂–¥–µ–Ω–∏–µ, –ø—Ä–∏–∑—ã–≤, –ø—Ä–æ—â–µ–Ω–∏–µ", "reversed": "–°–æ–º–Ω–µ–Ω–∏—è, –æ—Ç–∫–∞–∑ –æ—Ç –ø—Ä–∏–∑—ã–≤–∞, —Å–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞"},
            {"name": "–ú–∏—Ä", "number": 21, "upright": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, –µ–¥–∏–Ω—Å—Ç–≤–æ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ", "reversed": "–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å, –∑–∞—Å—Ç–æ–π, —Ä–∞–∑–æ–±—â–µ–Ω–Ω–æ—Å—Ç—å"}
        ]
        
        self.minor_arcana = [
            # –ú–ª–∞–¥—à–∏–µ –ê—Ä–∫–∞–Ω—ã (56 –∫–∞—Ä—Ç)
            # –ñ–µ–∑–ª—ã
            *[{"name": f"{num} –ñ–µ–∑–ª–æ–≤", "suit": "–ñ–µ–∑–ª—ã", "number": num} for num in ["–¢—É–∑", "2", "3", "4", "5", "6", "7", "8", "9", "10", "–ü–∞–∂", "–†—ã—Ü–∞—Ä—å", "–ö–æ—Ä–æ–ª–µ–≤–∞", "–ö–æ—Ä–æ–ª—å"]],
            # –ö—É–±–∫–∏
            *[{"name": f"{num} –ö—É–±–∫–æ–≤", "suit": "–ö—É–±–∫–∏", "number": num} for num in ["–¢—É–∑", "2", "3", "4", "5", "6", "7", "8", "9", "10", "–ü–∞–∂", "–†—ã—Ü–∞—Ä—å", "–ö–æ—Ä–æ–ª–µ–≤–∞", "–ö–æ—Ä–æ–ª—å"]],
            # –ú–µ—á–∏
            *[{"name": f"{num} –ú–µ—á–µ–π", "suit": "–ú–µ—á–∏", "number": num} for num in ["–¢—É–∑", "2", "3", "4", "5", "6", "7", "8", "9", "10", "–ü–∞–∂", "–†—ã—Ü–∞—Ä—å", "–ö–æ—Ä–æ–ª–µ–≤–∞", "–ö–æ—Ä–æ–ª—å"]],
            # –ü–µ–Ω—Ç–∞–∫–ª–∏
            *[{"name": f"{num} –ü–µ–Ω—Ç–∞–∫–ª–µ–π", "suit": "–ü–µ–Ω—Ç–∞–∫–ª–∏", "number": num} for num in ["–¢—É–∑", "2", "3", "4", "5", "6", "7", "8", "9", "10", "–ü–∞–∂", "–†—ã—Ü–∞—Ä—å", "–ö–æ—Ä–æ–ª–µ–≤–∞", "–ö–æ—Ä–æ–ª—å"]]
        ]
        
        # –î–æ–±–∞–≤–ª—è–µ–º –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –º–ª–∞–¥—à–∏—Ö –∞—Ä–∫–∞–Ω–æ–≤
        for card in self.minor_arcana:
            suit_meanings = {
                "–ñ–µ–∑–ª—ã": {"upright": "—ç–Ω–µ—Ä–≥–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –¥–µ–π—Å—Ç–≤–∏–µ", "reversed": "–ø—Ä–æ–º–µ–¥–ª–µ–Ω–∏–µ, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è"},
                "–ö—É–±–∫–∏": {"upright": "—ç–º–æ—Ü–∏–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –∏–Ω—Ç—É–∏—Ü–∏—è", "reversed": "—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã"},
                "–ú–µ—á–∏": {"upright": "–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, –ø—Ä–∞–≤–¥–∞", "reversed": "—Å–ª–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, —É–º—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ"},
                "–ü–µ–Ω—Ç–∞–∫–ª–∏": {"upright": "–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ, —Ä–∞–±–æ—Ç–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", "reversed": "—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"}
            }
            
            suit = card["suit"]
            if suit in suit_meanings:
                card["upright"] = suit_meanings[suit]["upright"]
                card["reversed"] = suit_meanings[suit]["reversed"]
        
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –∫–æ–ª–æ–¥—É
        self.full_deck = self.major_arcana + self.minor_arcana
    
    def shuffle_deck(self) -> List[Dict]:
        """–¢–∞—Å–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã –∏ –≤–æ–∑–≤—Ä–∞—Ç –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω–æ–π –∫–æ–ª–æ–¥—ã"""
        shuffled = self.full_deck.copy()
        random.shuffle(shuffled)
        return shuffled
    
    def draw_cards(self, count: int = 1) -> List[Dict]:
        """–í—ã—Ç—è–≥–∏–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–∞—Ä—Ç –∏–∑ –∫–æ–ª–æ–¥—ã"""
        deck = self.shuffle_deck()
        drawn_cards = []
        
        for i in range(count):
            if i < len(deck):
                card = deck[i].copy()  # –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –∫–∞—Ä—Ç—ã
                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã (–ø—Ä—è–º–æ–µ –∏–ª–∏ –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç–æ–µ)
                card["position"] = random.choice(["upright", "reversed"])
                drawn_cards.append(card)
        
        return drawn_cards
    
    def get_card_meaning(self, card: Dict) -> str:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏—è"""
        if "upright" in card and "reversed" in card:
            if card["position"] == "upright":
                return card["upright"]
            else:
                return card["reversed"]
        else:
            # –ó–∞–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
            suit_meanings = {
                "–ñ–µ–∑–ª—ã": "—ç–Ω–µ—Ä–≥–∏—è, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, –¥–µ–π—Å—Ç–≤–∏–µ",
                "–ö—É–±–∫–∏": "—ç–º–æ—Ü–∏–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –∏–Ω—Ç—É–∏—Ü–∏—è", 
                "–ú–µ—á–∏": "–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∫–æ–Ω—Ñ–ª–∏–∫—Ç, –ø—Ä–∞–≤–¥–∞",
                "–ü–µ–Ω—Ç–∞–∫–ª–∏": "–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ, —Ä–∞–±–æ—Ç–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å"
            }
            
            base_meaning = suit_meanings.get(card.get("suit", ""), "–≤–ª–∏—è–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ")
            
            if card["position"] == "upright":
                return f"–ü–æ–∑–∏—Ç–∏–≤–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ: {base_meaning}"
            else:
                return f"–í—ã–∑–æ–≤ –∏–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å: {base_meaning}"
    
    def create_spread(self, spread_type: str) -> Tuple[List[Dict], List[str]]:
        """–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞"""
        spread_definitions = {
            "celtic": {
                "count": 10,
                "positions": [
                    "–ù–∞—Å—Ç–æ—è—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è",
                    "–í—ã–∑–æ–≤ –∏–ª–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ", 
                    "–ë–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–µ –≤–ª–∏—è–Ω–∏—è",
                    "–ü—Ä–æ—à–ª–æ–µ, —á—Ç–æ —É—Ö–æ–¥–∏—Ç",
                    "–°–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª–∏",
                    "–ë–ª–∏–∂–∞–π—à–µ–µ –±—É–¥—É—â–µ–µ",
                    "–í–∞—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Å–∏—Ç—É–∞—Ü–∏–∏",
                    "–í–ª–∏—è–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è",
                    "–ù–∞–¥–µ–∂–¥—ã –∏ —Å—Ç—Ä–∞—Ö–∏",
                    "–ò—Ç–æ–≥ –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç"
                ]
            },
            "three": {
                "count": 3,
                "positions": [
                    "–ü—Ä–æ—à–ª–æ–µ",
                    "–ù–∞—Å—Ç–æ—è—â–µ–µ", 
                    "–ë—É–¥—É—â–µ–µ"
                ]
            },
            "four": {
                "count": 4, 
                "positions": [
                    "–°–∏—Ç—É–∞—Ü–∏—è",
                    "–í—ã–∑–æ–≤—ã",
                    "–°–æ–≤–µ—Ç",
                    "–†–µ–∑—É–ª—å—Ç–∞—Ç"
                ]
            },
            "daily": {
                "count": 1,
                "positions": [
                    "–°–æ–≤–µ—Ç –¥–Ω—è"
                ]
            }
        }
        
        spread_info = spread_definitions.get(spread_type, spread_definitions["daily"])
        cards = self.draw_cards(spread_info["count"])
        
        return cards, spread_info["positions"]
    
    def format_spread_for_display(self, cards: List[Dict]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"""
        result = "üé¥ –í–∞—à —Ä–∞—Å–∫–ª–∞–¥:\n\n"
        
        for i, card in enumerate(cards):
            position = card.get("position_name", f"–ü–æ–∑–∏—Ü–∏—è {i+1}")
            orientation = "üîº" if card["position"] == "upright" else "üîΩ"
            result += f"{orientation} <b>{position}:</b>\n"
            result += f"   üÉè {card['name']}\n"
            result += f"   üìñ {self.get_card_meaning(card)}\n\n"
        
        return result

    def get_available_spreads(self) -> Dict[str, str]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã —Ä–∞—Å–∫–ª–∞–¥–æ–≤"""
        return {
            "daily": "–°–æ–≤–µ—Ç –¥–Ω—è (1 –∫–∞—Ä—Ç–∞)",
            "three": "–ü—Ä–æ—à–ª–æ–µ-–ù–∞—Å—Ç–æ—è—â–µ–µ-–ë—É–¥—É—â–µ–µ (3 –∫–∞—Ä—Ç—ã)", 
            "four": "–°–∏—Ç—É–∞—Ü–∏—è-–í—ã–∑–æ–≤—ã-–°–æ–≤–µ—Ç-–†–µ–∑—É–ª—å—Ç–∞—Ç (4 –∫–∞—Ä—Ç—ã)",
            "celtic": "–ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç (10 –∫–∞—Ä—Ç)"
        }

# –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–ª–æ–¥—ã
tarot_deck = TarotDeck()